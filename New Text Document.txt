import org.apache.jmeter.protocol.http.sampler.HTTPSamplerProxy;
import org.apache.jmeter.samplers.SampleResult;

int maxResponseTime = 50; // ms

SampleResult[] results = ctx.getCurrentSampler().getResults();
double avgResponseTime = 0;

for(SampleResult result : results) {
    avgResponseTime += result.getTime();
}

avgResponseTime /= results.length;

if(avgResponseTime > maxResponseTime) {
    Failure = true;
    FailureMessage = "MÃ©dia de tempo de resposta " + avgResponseTime + "ms excedeu 50ms";
}
