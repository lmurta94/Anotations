syntax = "proto3";

option java_multiple_files = true;
option java_package = "com.example.grpc";
option java_outer_classname = "CustomerProto";

// Serviço gRPC com os métodos solicitados
service CustomerService {
    // Salvar múltiplos clientes via stream
    rpc SaveCustomers (stream CustomerModel) returns (stream CustomerModel);
    
    // Obter todos os clientes
    rpc GetAllCustomers (Empty) returns (stream CustomerModel);
    
    // Obter um cliente por ID
    rpc GetCustomerById (CustomerId) returns (CustomerModel);
    
    // Atualizar múltiplos clientes via stream
    rpc PutCustomers (stream CustomerModel) returns (stream CustomerModel);
    
    // Deletar múltiplos clientes via stream de IDs
    rpc DeleteById (stream CustomerId) returns (Empty);
}

// Modelo de cliente
message CustomerModel {
    int32 id = 1;
    string name = 2;
    string lastName = 3;
    string email = 4;
    int32 age = 5;
}

// Mensagem para enviar um ID de cliente
message CustomerId {
    int32 id = 1;
}

// Mensagem vazia usada como resposta para operações sem retorno específico
message Empty {}
